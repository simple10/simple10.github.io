
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>A Better Way to Grep Code - 10 Hacks</title>
  <meta name="author" content="Joe Johnston">

  
  <meta name="description" content="When grep’ing through code on OSX or linux, .svn files are a pain because grep will find code in the source file and in the corresponding svn file. &hellip;">
  
  <meta name="apple-mobile-web-app-title" content="10 Hacks">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link rel="shortcut icon" href="/images/logos/favicon.ico">
  <link rel="apple-touch-icon" href="/images/logos/logo_57x57.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/logos/logo_72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/logos/logo_114x114.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/logos/logo_144x144.png">

  <!-- Prefetch DNS for external assets -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//www.google-analytics.com">

  
  <link rel="canonical" href="http://www.10hacks.com/dev/2009/09/24/a-better-way-to-grep-code">
  <link href="/atom.xml" rel="alternate" title="10 Hacks" type="application/atom+xml">

  <link rel="stylesheet" href="/assets/app-4b572b6a4bef935693e53b251f96a0cd.css">
  <script src="/assets/head-d92d16045604cdb37199b5ea0e7c26f5.js"></script>
</head>

<body   >
  <nav role="navigation" class="container">
  <!--
  
  <form action="http://google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="q" value="site:www.10hacks.com" />
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
  </form>
   -->

  <div class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="/" title="10 Hacks">
        <img src="/images/logos/logo.svg">
        10 Hacks
      </a>
      <ul class="nav">
        
        
          
        
          
            
          
        
          
            
          
        
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
        
      </ul>
      <div class="btn-group pull-right">
        <a class="btn btn-primary" href="https://twitter.com/joejohnston"><i class="fui-twitter"></i></a>
        <a class="btn btn-primary" href="#contact-modal" data-toggle="modal" data-target="#contactModal"><i class="fui-mail"></i></a>
        <a class="btn btn-primary" href="https://github.com/simple10"><i class="fui-github"></i></a>
        <a class="btn btn-primary" href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"><i class="fui-rss"></i></a>
      </div>
    </div>
  </div>
</nav>

  

  <div class="container">
    <div class="row-fluid">
      <div id="content" class="span12">
        <article role="article">
  
  <header>
    
      <h1 class="entry-title">A Better Way to Grep Code</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-24T11:11:26Z" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>When grep’ing through code on OSX or linux, .svn files are a pain because grep will find code in the source file and in the corresponding svn file. To fix this, use the below bash script to omit .svn directories from grep searches.</p>

<p>Code Grep (cg)</p>

<p>Create a cg script in <code>/usr/local/bin</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line">!/bin/sh
</span><span class="line">
</span><span class="line"><span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="o">=</span> 1 <span class="o">]</span>; <span class="k">then</span>
</span><span class="line"><span class="k">  </span>grep -ir <span class="s2">&quot;$1&quot;</span> * | grep -v <span class="s2">&quot;.svn/&quot;</span>
</span><span class="line"><span class="k">elif</span> <span class="o">[</span> <span class="nv">$# </span><span class="o">=</span> 2 <span class="o">]</span>; <span class="k">then</span>
</span><span class="line"><span class="k">  </span>grep -ir <span class="s2">&quot;$1&quot;</span> <span class="nv">$2</span>/* | grep -v <span class="s2">&quot;.svn/&quot;</span>
</span><span class="line"><span class="k">else</span>
</span><span class="line"><span class="k">  </span><span class="nb">echo</span> <span class="s2">&quot;Doh! Too many parameters.ncg &quot;</span>search<span class="s2">&quot; [FLAGS]&quot;</span>
</span><span class="line"><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Thanks to <a href="http://www.microshell.com/sysadmin/unix/customizing-grep-tool-to-exclude-svn/">Maresa Nirwan’s article</a>.</p>

<p>Include a few extra vars in your ~/.profile</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="nb">export </span><span class="nv">SVN_EDITOR</span><span class="o">=</span>/usr/bin/vim
</span><span class="line"><span class="nb">export </span><span class="nv">GREP_OPTIONS</span><span class="o">=</span><span class="s2">&quot;-I --color=always&quot;</span>
</span><span class="line"><span class="nb">export </span><span class="nv">CLICOLOR</span><span class="o">=</span>1
</span><span class="line"><span class="nb">export </span><span class="nv">LSCOLORS</span><span class="o">=</span>cxfxcxdxbxegedabagacad
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>And reload the profile with the source command</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="nb">source</span> ~/.profile
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">joe</span></span>

      








  


<time datetime="2009-09-24T11:11:26Z" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/category/dev/'>dev</a>
  
</span>


    </p>

    
      <div class="sharing">
  
    <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.10hacks.com/dev/2009/09/24/a-better-way-to-grep-code/" data-via="joejohnston" data-counturl="http://www.10hacks.com/dev/2009/09/24/a-better-way-to-grep-code/" >Tweet</a>
  
  
    <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-width="90" data-layout="button_count" data-send="false" data-show-faces="false"></div>
  
</div>

    

    <p class="meta">
      
        <a href="/code/2009/09/24/hivemaps-makes-google-maps-easy/" title="Previous Post: HiveMaps Makes Google Maps Easy">&laquo; HiveMaps Makes Google Maps Easy</a>
      
      
        <a href="/code/2009/10/19/google-app-engine-patch-django-formsets/" title="Next Post: Ordered Formsets in Google App Engine Patch">Ordered Formsets in Google App Engine Patch &raquo;</a>
      
    </p>
  </footer>
</article>

<section>
  


  
<div id="disqus_thread" aria-live="polite"></div>
<script type="text/javascript">
      var disqus_shortname = '10hacks';
      
        // var disqus_developer = 1;
        
          
        
        var disqus_identifier = 'a-better-way-to-grep-code';
        var disqus_url = 'http://www.10hacks.com/dev/2009/09/24/a-better-way-to-grep-code/';
        var disqus_title = 'A Better Way to Grep Code';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</section>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement(s); js.id = id; js.async = true;
    js.src = "//connect.facebook.net/en_US/all.js#appId=&xfbml=1";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));</script>




      </div>
    </div>
  </div>

  <div id="contactModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="contactModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="contactModalLabel">Contact Me</h3>
  </div>
  <div class="modal-body">
    <p>Email: <a href="mailto:joe@10hacks.com?subject=[10Hacks] Contact Me" target="_blank">joe@10hacks.com</a></p>
    <p><small>Please include [10Hacks] in the subject line. Thanks!</small></p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" data-dismiss="modal">OK</button>
  </div>
</div>

  <footer role="contentinfo">
</footer>

  <script src="/assets/app-f7ffe072f168a685fc7907507b69cd57.js"></script>
  

</body>
</html>
